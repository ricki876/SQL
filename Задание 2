/*Вывести города, в которых живут клиенты, оформлявшие заказы в интернет-магазине. 
Указать количество заказов в каждый город, этот столбец назвать Количество. 
Информацию вывести по убыванию количества заказов, а затем в алфавитном порядке по названию городов.
Фрагмент логической схемы базы данных: https://disk.yandex.ru/i/VvLwh-G2T41gLA */

SELECT name_city, count(buy.buy_id) AS Количество
FROM 
    city 
    INNER JOIN client ON city.city_id = client.city_id
    INNER JOIN buy ON client.client_id = buy.client_id
GROUP BY name_city 
ORDER BY Количество DESC, name_city;
