/*Вывести жанр (или жанры), в котором было заказано больше всего экземпляров книг, указать это количество. 
Последний столбец назвать Количество.*/

SELECT name_genre, SUM(buy_book.amount) AS Количество
FROM 
    genre 
    INNER JOIN book ON genre.genre_id = book.genre_id
    INNER JOIN buy_book ON book.book_id = buy_book.book_id  
GROUP BY book.genre_id
HAVING Количество >= all
(SELECT SUM(buy_book.amount)
FROM genre 
    INNER JOIN book ON genre.genre_id = book.genre_id
    INNER JOIN buy_book ON book.book_id = buy_book.book_id
GROUP BY book.genre_id);
